{{define "left-sidebar-header"}}
<div class="sidebar-header">
    <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
    <div class="view-toggle">
        <button id="btn-view-ui" class="active" onclick="switchView('ui')">UI</button>
        <button id="btn-view-json" onclick="switchView('json')">JSON</button>
    </div>
</div>
{{end}}

{{define "results-placeholder"}}
<div id="ui-results" class="ui-view">
    <div class="instructions">
        <strong>–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã:</strong><br>
        1. –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–æ–¥ —Å–ø—Ä–∞–≤–∞<br>
        2. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–µ—Ç–æ–¥–æ–≤ - –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç—É<br>
        3. –ù–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å" –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞<br>
        4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å
    </div>
</div>
<div id="json-results" class="json-view">
    <div class="instructions">
        –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å JSON –æ—Ç–≤–µ—Ç
    </div>
</div>
{{end}}

{{define "top-panel"}}
<div id="top-panel">
    <span class="point-count">–¢–æ—á–µ–∫: <span id="points-count">0</span></span>
    <button id="execute-btn" class="primary" disabled>–í—ã–ø–æ–ª–Ω–∏—Ç—å</button>
    <button id="clear-btn" class="secondary">–û—á–∏—Å—Ç–∏—Ç—å</button>
</div>
{{end}}

{{define "method-cards"}}
<!-- Search & Geocoding -->
<div class="method-group">
    <h3 class="group-title">üîç Search & Geocoding</h3>
    {{range .Methods}}
        {{if or (eq .ID "search") (eq .ID "reverse-geocode") (eq .ID "reverse-geocode-batch") (eq .ID "boundary-by-id")}}
        <div class="method-card {{if .Active}}active{{end}}" data-method="{{.ID}}">
            <div class="method-header">
                <span class="method-icon">{{.Icon}}</span>
                <span class="method-name">{{.Name}}</span>
            </div>
            <p class="method-description">{{.Description}}</p>
            <div class="method-badges">
                <span class="badge badge-{{.HTTPMethod}}">{{.HTTPMethod}}</span>
                {{if .IsBatch}}<span class="badge badge-batch">BATCH</span>{{end}}
            </div>
        </div>
        {{end}}
    {{end}}
</div>

<!-- Location Enrichment -->
<div class="method-group">
    <h3 class="group-title">‚ú® Location Enrichment</h3>
    {{range .Methods}}
        {{if or (eq .ID "enrich-location") (eq .ID "enrich-location-batch") (eq .ID "detect-location-batch")}}
        <div class="method-card {{if .Active}}active{{end}}" data-method="{{.ID}}">
            <div class="method-header">
                <span class="method-icon">{{.Icon}}</span>
                <span class="method-name">{{.Name}}</span>
            </div>
            <p class="method-description">{{.Description}}</p>
            <div class="method-badges">
                <span class="badge badge-{{.HTTPMethod}}">{{.HTTPMethod}}</span>
                {{if .IsBatch}}<span class="badge badge-batch">BATCH</span>{{end}}
            </div>
        </div>
        {{end}}
    {{end}}
</div>

<!-- Transport -->
<div class="method-group">
    <h3 class="group-title">üöá Transport</h3>
    {{range .Methods}}
        {{if or (eq .ID "transport-nearest") (eq .ID "transport-nearest-batch") (eq .ID "transport-priority") (eq .ID "transport-priority-batch") (eq .ID "station-lines")}}
        <div class="method-card {{if .Active}}active{{end}}" data-method="{{.ID}}">
            <div class="method-header">
                <span class="method-icon">{{.Icon}}</span>
                <span class="method-name">{{.Name}}</span>
            </div>
            <p class="method-description">{{.Description}}</p>
            <div class="method-badges">
                <span class="badge badge-{{.HTTPMethod}}">{{.HTTPMethod}}</span>
                {{if .IsBatch}}<span class="badge badge-batch">BATCH</span>{{end}}
            </div>
        </div>
        {{end}}
    {{end}}
</div>

<!-- POI -->
<div class="method-group">
    <h3 class="group-title">üìå POI</h3>
    {{range .Methods}}
        {{if or (eq .ID "poi-radius") (eq .ID "poi-categories") (eq .ID "poi-subcategories")}}
        <div class="method-card {{if .Active}}active{{end}}" data-method="{{.ID}}">
            <div class="method-header">
                <span class="method-icon">{{.Icon}}</span>
                <span class="method-name">{{.Name}}</span>
            </div>
            <p class="method-description">{{.Description}}</p>
            <div class="method-badges">
                <span class="badge badge-{{.HTTPMethod}}">{{.HTTPMethod}}</span>
                {{if .IsBatch}}<span class="badge badge-batch">BATCH</span>{{end}}
            </div>
        </div>
        {{end}}
    {{end}}
</div>

<!-- Tiles -->
<div class="method-group">
    <h3 class="group-title">üó∫Ô∏è Tiles</h3>
    {{range .Methods}}
        {{if or (eq .ID "tile-boundaries") (eq .ID "tile-transport") (eq .ID "tile-transport-filtered") (eq .ID "tile-poi") (eq .ID "tile-green-spaces") (eq .ID "tile-water") (eq .ID "tile-beaches")}}
        <div class="method-card {{if .Active}}active{{end}}" data-method="{{.ID}}">
            <div class="method-header">
                <span class="method-icon">{{.Icon}}</span>
                <span class="method-name">{{.Name}}</span>
            </div>
            <p class="method-description">{{.Description}}</p>
            <div class="method-badges">
                <span class="badge badge-{{.HTTPMethod}}">{{.HTTPMethod}}</span>
                {{if .IsBatch}}<span class="badge badge-batch">BATCH</span>{{end}}
            </div>
        </div>
        {{end}}
    {{end}}
</div>

<!-- System -->
<div class="method-group">
    <h3 class="group-title">üìä System</h3>
    {{range .Methods}}
        {{if or (eq .ID "stats") (eq .ID "health")}}
        <div class="method-card {{if .Active}}active{{end}}" data-method="{{.ID}}">
            <div class="method-header">
                <span class="method-icon">{{.Icon}}</span>
                <span class="method-name">{{.Name}}</span>
            </div>
            <p class="method-description">{{.Description}}</p>
            <div class="method-badges">
                <span class="badge badge-{{.HTTPMethod}}">{{.HTTPMethod}}</span>
                {{if .IsBatch}}<span class="badge badge-batch">BATCH</span>{{end}}
            </div>
        </div>
        {{end}}
    {{end}}
</div>
{{end}}

{{define "params-section"}}
<div class="params-section">
    <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h4>
    <div class="param-group">
        <label>–†–∞–¥–∏—É—Å (–º)</label>
        <input type="number" id="param-radius" value="1500" min="100" max="10000" step="100">
    </div>
    <div class="param-group">
        <label>–õ–∏–º–∏—Ç –Ω–∞ —Ç–æ—á–∫—É</label>
        <input type="number" id="param-limit" value="5" min="1" max="20">
    </div>
    <div class="param-group" id="types-group">
        <label>–¢–∏–ø—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</label>
        <select id="param-types" multiple size="4">
            <option value="metro" selected>Metro</option>
            <option value="train" selected>Train</option>
            <option value="tram">Tram</option>
            <option value="bus">Bus</option>
        </select>
    </div>
</div>
{{end}}
